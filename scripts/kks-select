#!/bin/sh
#
# select kak session and client to set environment
# use as `eval (kak-select)`, eg: `alias ks="eval (kak-select)"` in shell config
#
# requires:
# - fzf (https://github.com/junegunn/fzf)

command kak -clear

kks list |
	column --table |
	fzf --preview-window=down:0% --preview="kks send -a info; kks send -s {1} -c {2} info -markup '{+b}{1}{default}:{2}'" |
	awk '{print "export KKS_SESSION=" $1 "; export KKS_CLIENT=" $2}'
